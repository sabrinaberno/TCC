\chapter[Metodologia]{Metodologia}

\section{Classificação da Pesquisa}

\subsection{Natureza}

Em relação à natureza desta pesquisa, trata-se de uma pesquisa aplicada. Temos como objetivo principal gerar um conhecimento que possa ter um impacto direto e uma utilidade prática, ambos em contextos reais \cite{nascimento2016}. 

Com esta pesquisa, o desenvolvimento do modelo de IA tem a potencialidade de melhorar os sucessos dos tratamentos de FIV, fazendo o processo de seleção embrionária mais eficaz, menos invasivo e mais acessível a um maior número de pessoas.

\subsection{Método ou Abordagem Metodológica}

A metodologia ou abordagem metodológica dessa pesquisa é quantitativa \cite{nascimento2016}. Nosso foco é a análise dos dados numéricos referentes aos padrões morfocinéticos de embriões. Esses dados serão utilizados para o desenvolvimento da IA, que será capaz de prever a porcentagem de euploidia, auxiliando na seleção de embriões com maior possibilidade de saúde genética.

Escolher a abordagem quantitativa nos ajudará a atingir os objetivos desta pesquisa, permitindo explorar e validar os dados com precisão, oferecendo resultados objetivos. 

\subsection{Objetivos}

Quanto aos objetivos, o objetivo desta pesquisa é exploratório \cite{nascimento2016}. Este trabalho procura identificar e investigar padrões em dados morfocinéticos de embriões, usando o TLS, explorando a possibilidade de realizar essa predição juntamente com as tecnologias de IA.

Ao focar na concepção de um modelo que terá a capacidade de identificar padrões nos dados,exploraremos a relação entre esses dados e a importância de cada padrão para o resultado desejado, compreendendo os fatores que influenciam a saúde genética dos embriões, mas sem um conhecimento prévio estabelecido que explique completamente essas relações.

\subsection{Procedimentos De Pesquisa}

O procedimento adotado neste trabalho é experimental. Definimos este procedimento por causa do objetivo de investigar as relações entre as variáveis, o que é uma característica da pesquisa experimental \cite{nascimento2016}. Buscamos estabelecer uma relação de causa e efeito entre as características morfocinéticas dos embriões, mais especificamente a porcentagem de euploidia.

\section{Design da Pesquisa}

Esse estudo adotará o uso de IA para realizar a análise dos dados morfogenéticos dos embriões, desenvolvendo um modelo de predição baseado em machine learning. O modelo será treinado para identificar os padrões nos dados coletados pelo TLS, com foco em prever a porcentagem de euploidia, o que indica a saúde genética dos embriões.

Para desenvolver e testar o modelo, utilizaremos a linguagem de programação Python, aproveitando as bibliotecas disponíveis para a construção da IA. Quanto à validação do modelo, será elaborada uma fase experimental, na qual o modelo será testado com dados reais de embriões já classificados, a fim de compararmos e testarmos seu desempenho, refinando-o quando necessário.

Nesta pesquisa, buscaremos identificar e mapear os padrões em um campo que ainda está em desenvolvimento. A prática será testada em um ambiente controlado com dados obtidos pelo TLS, avaliando a efetividade do modelo com base na sua capacidade de prever, em porcentagem, a ploidia do embrião.

\section{Fases de Trabalho}

As fases do nosso trabalho se dividem em duas etapas: \textbf{Fase 1: Análise e Preparação de Dados} (Tabela \ref{tab:fase1}), com o objetivo de compreender e organizar os dados para realizar a análise da influência dos parâmetros na porcentagem de euploidia, e a \textbf{Fase 2: Desenvolvimento e Avaliação do Modelo} detalhada na Tabela (Tabela \ref{tab:fase2}), que foca no desenvolvimento, ajuste e avaliação de um modelo de ML para efetuar a predição de euploidia, finalizando com a entrega de um protótipo de uma interface a ser evoluída em trabalhos futuros, realizando a criação e junção dos dois.

Nas seções a seguir, demonstraremos os objetivos de cada fase, mostrando suas atividades, nas quais estão descritos resumidamente o que será feito, qual método será utilizado e o resultado esperado. Em seguida, detalharemos cada parte.

\begin{table}[h!]
  \centering
  \renewcommand{\arraystretch}{1.4} 
  \captionsetup{font=footnotesize, justification=centering, labelsep=period, position=above}
  \caption{Fase 1: Análise e Preparação de Dados}
  \label{tab:fase1}
  \resizebox{\textwidth}{!}{ 
    \begin{tabular}{|p{3cm}|p{4cm}|p{3cm}|p{5cm}|} 
      \hline
      \multicolumn{4}{|c|}{\cellcolor[HTML]{008940} \textbf{Fase 1: Análise e Preparação de Dados}} \\
      \hline

      \cellcolor[HTML]{C0C0C0} \textbf{Objetivos Específicos} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Atividades} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Método de Pesquisa} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Resultados Esperados} \\
      \hline

      \multirow{4}{*}{
          \parbox[c]{\linewidth}{
          \centering
          \vspace{0.2cm}
          \hspace{0.1cm}\textcolor[HTML]{133E78}{\textbf{
            OE1 \\[0.1cm]
            Expandir, \\[0.1cm]
            Processar e \\[0.1cm]
            Analisar os \\[0.1cm]
            Dados para \\[0.1cm]
            Predição de \\[0.1cm]
            Ploidia
          }}\hspace{0.1cm}
        }
      }
      &
      \textcolor[HTML]{133E78}{\textbf{Atividade 1 (A1)}} \newline
      Análise, Revisão e Seleção de Variáveis para Predição de Euploidia &
      - Pesquisa bibliográfica \newline
      - Python - Biblioteca Pandas &
      - Analisar, Revisar e Selecionar as variáveis \newline
      - Limpeza dos dados \\
      \cline{2-4}

      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 2 (A2)}} \newline
      Normalização dos Dados para Otimização &
      - Z-Score &
      - Normalização das variáveis numéricas \\
      \cline{2-4}

      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 3 (A3)}} \newline
      Identificação da Correlação e Atribuição de Pesos aos Parâmetros na Previsão da Ploidia do Embrião &
      - Coeficiente de correlação de Spearman &
      - Análise das correlações entre variáveis pelo Gráfico de dispersão \\
      \cline{2-4}

      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 4 (A4)}} \newline
      Divisão de Dados e Aplicação de Data Augmentation & 
      - Divisão do conjunto de dados \newline
      - Data augmentation com o Algoritmo de Monte Carlo &
      - Dados para treinamento e teste \newline
      - Aumento do conjunto de dados para treinamento \\
      \hline
    \end{tabular}
  }
\end{table}
\FloatBarrier 

\subsection{\textbf{Objetivo Específico 1} - Identificação de Parâmetros em Embriões}

\subsubsection{\textbf{Atividade 1 (A1):} Análise, Revisão, Seleção e Limpeza de Variáveis para Predição de Euploidia}

Começaremos com a análise das variáveis existentes na planilha de dados dos embriões, avaliando sua pertinência e verificando a necessidade de introdução de novas variáveis que possam aprimorar a exatidão da análise ou, se necessário, eliminar aquelas consideradas irrelevantes ou redundantes. Esse processo visa aprimorar a correlação entre os parâmetros estudados e a porcentagem de euploidia. Em seguida, será realizada a limpeza dos dados, com a detecção e correção de inconsistências, como valores em branco ou discrepantes, substituindo valores nulos por outros mais apropriados, especialmente em colunas que dependem de cálculos entre variáveis. Esse conjunto de ações garantirá que os dados estejam organizados, consistentes e prontos para análises futuras, prevenindo distorções nos resultados.

Para realizar a verificação da pertinência das variáveis já existentes e avaliar a viabilidade de introduzir novas variáveis, utilizaremos a pesquisa bibliográfica, nos norteando pelos estudos apresentados no capítulo 2: o de \citeonline{yuan2023}, o artigo 'Development of an artificial intelligence-based model for predicting the euploidy of blastocysts in PGT-A treatments' e o de \citeonline{souzarebeca2022}, 'Análise da ploidia de embriões humanos por meio da inteligência artificial com o uso de variáveis de morfologia, morfocinética e variáveis relacionadas com a paciente'. Ambos os artigos descrevem o uso de IA para fazer a predição da ploidia de embriões, o que se assemelha com o que queremos propor, com a diferença de que temos o objetivo final de prever a porcentagem de aneuploidia. 

Dessa forma, analisaremos os estudos feitos por ambos pesquisadores e utilizaremos para entender o poder que cada variável tem para o objetivo final e se é necessário adicionar outras variáveis que não existem na nossa planilha, ou até mesmo excluí-las. Além disso, conduziremos entrevistas com o especialista encarregado de fornecer os dados, para uma análise prática da pertinência das variáveis disponíveis e para debater possíveis variáveis extras que possam ser relevantes para a análise. As entrevistas possibilitarão alinhar a seleção das variáveis ao conhecimento clínico e experiência prática do profissional, garantindo que as variáveis selecionadas sejam aplicáveis no cenário real de previsão de euploidia. Em relação a limpeza dos dados, utilizaremos a linguagem \textit{Python} que possui a biblioteca \textit{Pandas}, que permite o carregamento de planilhas do Excel, do formato .xlsx, como a que possuímos. De acordo com \citeonline{chen2018}: “O Pandas é uma biblioteca Python de código aberto para análise de dados. Ele dá a Python a capacidade de trabalhar com dados do tipo planilha, permitindo carregar, manipular, alinhar e combinar dados rapidamente, entre outras funções.”.Usaremos as funções \textit{isnull()} e \textit{info()}, da biblioteca \textit{Pandas}. 

Essa atividade corresponde ao Passo 2 do desenvolvimento de algoritmos de aprendizado de máquina, que trata da obtenção dos dados necessários para o projeto.

\paragraph{\textbf{Atividade 2 (A2):} Normalização dos Dados para Otimização}

Antes de iniciarmos a normalização, algumas variáveis serão transformadas para o formato numérico, pois estão originalmente representadas como strings. A primeira variável a ser alterada será a ploidia, que será convertida para valores binários: 0 para euploide e 1 para aneuploide. Em seguida, a variável estágio será modificada removendo-se a letra “D” e mantendo apenas o número que representa o dia de desenvolvimento embrionário, como 5, 6 ou 4. Por fim, a variável classificação Morfo será substituída pelo seu grupo numérico equivalente, conforme descrito na fundamentação teórica, com valores de 1 a 4.

As variáveis numéricas serão normalizadas por meio de uma técnica de normalização, o \textbf{Z-Score}, detalhado no APÊNDICE \ref{apendice:zscore}. A normalização será essencial, pois, de acordo com \citeonline{milewski2016}, estudos anteriores demonstraram que a incorporação de dados morfológicos normalizados na avaliação da qualidade embrionária aumenta consideravelmente o poder preditivo dos modelos construídos. A normalização é uma forma de dimensionar recursos, transformando o intervalo deles em uma escala padrão \cite{jaiswal2024}. Essa técnica transformará os dados para uma escala padrão \cite{jaiswal2024}, facilitando a interpretação e a comparação entre diferentes variáveis.

Essa atividade corresponde ao Passo 3 do desenvolvimento de algoritmos de aprendizado de máquina, que envolve a preparação e transformação dos dados para garantir que estejam em um formato adequado para o treinamento dos modelos.

\paragraph{\textbf{Atividade 3 (A3):} Identificação da Correlação e Atribuição de Pesos aos Parâmetros na Previsão da Ploidia do Embrião}

O objetivo desta atividade é identificar as relações entre os diferentes parâmetros presentes na planilha de dados dos embriões, avaliando a intensidade e o sentido dessas relações, com foco em sua influência na porcentagem de euploidia. Após a pesquisa bibliográfica, utilizaremos o coeficiente de correlação de Spearman, explicado com mais detalhes no APÊNDICE \ref{apendice:spearman}. Esse coeficiente mede a relação monótona entre duas variáveis, considerando as ordens atribuídas às observações em vez dos valores originais \cite{sousa2019}. A correlação será calculada para todas as combinações possíveis de variáveis, possibilitando uma análise mais detalhada de suas interações \cite{sousa2019}. Um gráfico de dispersão será gerado para complementar a análise visual, facilitando a identificação de padrões. Também com o conhecimento adquirido pela A1, determinaremos a relevância relativa de cada parâmetro na previsão da ploidia do embrião, atribuindo pesos que reflitam sua influência, identificando a relevância de cada parâmetro.

A fórmula do coeficiente de correlação de Spearman será aplicada, utilizando as ordens atribuídas, assegurando que o método se adapte a diferentes formatos de relação, como curvas monótonas crescentes ou decrescentes. Além disso, será realizada uma análise complementar com gráficos de dispersão, que ajudarão a identificar a inclinação dos dados e o sentido da correlação, sendo positiva (próximas ao valor 1) quando as variáveis variam no mesmo sentido e negativa (próximas ao valor -1) quando variam em sentidos opostos \cite{sousa2019}. O resultado numérico do coeficiente será avaliado em relação à sua magnitude, indicando se a correlação é forte, moderada ou fraca, e seu sinal indicará o tipo de relação (positiva ou negativa). 

Usaremos a biblioteca Pandas para manipulação dos dados e a SciPy para calcular o coeficiente de Spearman. A metodologia para a definição e atribuição de pesos específicos aos parâmetros relevantes para a ploidia do embrião combina análise teórica e prática. Inicialmente, será realizada uma pesquisa bibliográfica em publicações científicas e revisões sistemáticas que explorem a influência dos parâmetros na ploidia embrionária.

Essa atividade corresponde ao Passo 3 do desenvolvimento de algoritmos de aprendizado de máquina, que envolve a preparação e transformação dos dados para garantir que estejam em um formato adequado para o treinamento dos modelos.

\paragraph{\textbf{Atividade 4 (A4):} Separar o conjunto de dados em conjuntos de treinamento e teste, fazendo uma distribuição dos dados e aplicar técnica de aumento de dados}

A aplicação de técnicas de Aprendizado de Máquina em conjuntos de dados pequenos impõe desafios metodológicos significativos. Nesses cenários, o risco de overfitting (sobreajuste) é amplificado. Esse fenômeno ocorre quando o modelo aprende padrões específicos e ruídos do conjunto de treinamento, em vez de generalizações úteis para novos dados, resultando em uma performance artificialmente elevada durante o treinamento, mas fraca diante de dados independentes \cite{bashir2020}.

Como o tamanho do conjunto de dados inviabiliza uma divisão tradicional em três subconjuntos (treinamento, validação e teste), optamos por uma abordagem mais viável: a divisão em apenas dois conjuntos — 80\% para treinamento e 20\% para teste. Essa decisão visa preservar a maior quantidade possível de dados para o treinamento, garantindo ao mesmo tempo uma avaliação minimamente robusta do desempenho do modelo. \citeonline{andrew2018} sugere que conjuntos de dados menores que 10.000, a divisão deve ser cuidadosamente ponderada, pois qualquer porção reservada a validação pode comprometer a capacidade de aprendizado e a confiabilidade da avaliação.

Além da divisão, será feito um \textbf{balanceamento das classes} durante a divisão dos dados, a fim de garantir que a escolha aleatória não acabe segregando mais amostras de uma classe em um conjunto do que em outro. Esse cuidado é essencial para evitar viés nos dados e assegurar que o modelo tenha a oportunidade de aprender e ser avaliado com amostras representativas de todas as classes, o que pode impactar diretamente na precisão do modelo.

Dado o volume reduzido de dados, aplicamos a técnica de aumento de dados (data augmentation), utilizando o algoritmo de Monte Carlo (ver APÊNDICE \ref{apendice:montecarlo}), com o objetivo de gerar amostras sintéticas de alta qualidade a partir dos dados existentes. Essa técnica foi aplicada exclusivamente ao conjunto de treinamento, de forma a evitar interferências na avaliação final e permitir que o modelo aprenda a partir de padrões legítimos.  

Essa atividade corresponde ao Passo 4 do desenvolvimento de algoritmos de aprendizado de máquina, que trata da preparação final dos dados, garantindo um aprendizado mais robusto e eficaz do modelo.

% A separação do conjunto de dados será feita para garantir que as etapas de treinamento e testes sejam realizadas de forma organizada. Iremos dividir em 2 conjuntos: \textbf{Treinamento}, para ensinar o modelo e ajustar os parâmetros de forma adequada, evitando o overfitting — que ocorre quando um algoritmo reduz o erro por meio da memorização de exemplos de treinamento, em vez de aprender a verdadeira relação geral entre os dados \cite{bashir2020} —; e \textbf{Teste}, para avaliar o desempenho final. A divisão será realizada com uma distribuição de 80\% dos dados para treinamento e 20\% para teste.

% Além disso, será feito um \textbf{balanceamento das classes} durante a divisão dos dados, a fim de garantir que a escolha aleatória não acabe segregando mais amostras de uma classe em um conjunto do que em outro. Esse cuidado é essencial para evitar viés nos dados e assegurar que o modelo tenha a oportunidade de aprender e ser avaliado com amostras representativas de todas as classes, o que pode impactar diretamente na precisão do modelo.

% Nosso conjunto de dados original é relativamente pequeno, contendo apenas 84 linhas. Por isso, aplicaremos a técnica de \textbf{aumento de dados (data augmentation)} utilizando o algoritmo Monte Carlo (APÊNDICE \ref{apendice:montecarlo}), que gera novas amostras a partir de dados existentes. Utilizaremos essa técnica exclusivamente nos dados de treinamento, a fim de evitar interferências negativas na avaliação e garantir que o modelo aprenda a partir de padrões legítimos dos dados \cite{kiar2021}.

% Para a realização, será usada uma abordagem padrão em aprendizado de máquina, dividindo o conjunto de dados em dois subconjuntos, conforme descrito. Essa divisão é feita para garantir que o modelo seja avaliado de forma imparcial e com base em dados não vistos durante o treinamento \cite{bashir2020}. Para ampliar o conjunto de treinamento, será aplicada a técnica de aumento de dados com Monte Carlo, que permite a geração de dados artificiais de alta qualidade por meio da manipulação de amostras existentes \cite{wang2024}. 

% O resultado esperado é a divisão do conjunto de dados em dois subconjuntos: treinamento (com aumento de dados) e teste (com dados originais apenas), assegurando uma avaliação justa e a construção de um modelo robusto de aprendizado de máquina.

\begin{table}[h!]
  \centering
  \renewcommand{\arraystretch}{1.4} 
  \captionsetup{font=footnotesize, justification=centering, labelsep=period, position=above}
  \caption{Fase 2: Desenvolvimento e Avaliação do Modelo}
  \label{tab:fase2}
  \resizebox{\textwidth}{!}{ 
    \begin{tabular}{|p{3cm}|p{4cm}|p{3cm}|p{5cm}|} 
      \hline
      \multicolumn{4}{|c|}{\cellcolor[HTML]{008940} \textbf{Fase 2: Desenvolvimento e Avaliação do Modelo}} \\
      \hline

      \cellcolor[HTML]{C0C0C0} \textbf{Objetivos Específicos} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Atividades} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Método de Pesquisa} & 
      \cellcolor[HTML]{C0C0C0} \textbf{Resultados Esperados} \\
      \hline

      % --- Seção OE2 ---
          \centering
          \hspace{0.1cm}\textcolor[HTML]{133E78}{\textbf{
            OE2 \\[0.1cm]
            Treinar e \\[0.1cm]
            Ajustar o Modelo \\[0.1cm]
            de Machine \\[0.1cm]
            Learning para \\[0.1cm]
            Predição de \\[0.1cm]
            Euploidia
          }}\hspace{0.1cm}
      &
      \textcolor[HTML]{133E78}{\textbf{Atividade 5 (A5)}} \newline
      Desenvolvimento e Treinamento do Modelo de Machine Learning para Otimização da Predição de Ploidia &
      - Python (Bibliotecas pandas, joblib, scikit-learn, matplotlib, seaborn e a lime) &
      - Treinamento do modelo bem-sucedido com no mínimo 70\% de precisão, usando Rede Neural MLP com LIME. \\
      \hline

      % --- Seção OE3 ---
      \multirow{2}{*}{
          \parbox[c]{\linewidth}{
              \vspace{0.2cm}
              \centering
              \hspace{0.1cm}\textcolor[HTML]{133E78}{\textbf{
                OE3 \\[0.1cm]
                Realizar Avaliação do Modelo
              }}\hspace{0.1cm}
          }
      }
      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 6 (A6)}} \newline
      Utilizar métricas adequadas para medir o desempenho do modelo &
      - Python (Biblioteca scikit-learn e pandas) &
      - Acurácia \newline
      - ROC-AUC \newline
      - Recall \\
      \cline{2-4}

      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 7 (A7)}} \newline
      Avaliação do Desempenho do Modelo na Predição por Meio da Matriz de Confusão e Curva ROC &
      - Matriz de confusão (Random Forest - scikit-learn) &
      - Verdadeiros positivos (TP) \newline
      - Verdadeiros negativos (TN) \newline
      - Falsos positivos (FP) \newline
      - Falsos negativos (FN) \newline
      - Gráfico exibindo a relação entre a sensibilidade e a especificidade para diferentes valores de limiar. \\
      \hline

     % --- Seção OE4 ---
      \multirow{2}{*}{
          \parbox[c]{\linewidth}{
              \vspace{0.2cm}
              \centering
              \hspace{0.1cm}\textcolor[HTML]{133E78}{\textbf{
                  OE4 \\[0.1cm]
                  Construir Protótipo \\[0.1cm]
              }}\hspace{0.1cm}
          }
      } 
      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 8 (A8)}} \newline
      Prototipar uma interface básica para exibir as predições de euploidia para o usuário final (médicos) &
      - Figma &
      - Protótipo funcional \\
      \cline{2-4}
      & 
      \textcolor[HTML]{133E78}{\textbf{Atividade 9 (A9)}} \newline
      Desenvolver a aplicação web integrando o protótipo à inteligência artificial existente &
      - Next.js, TypeScript e TailwindCSS \newline
      - Vercel &
      - Aplicação web com leitura de planilhas .xlsx integrada à IA \\
      \hline
    \end{tabular}
  }
\end{table}
\FloatBarrier


\subsubsection{\textbf{Objetivo Específico 2} - Treinamento e Ajuste de Modelo de Machine Learning para Predição de Euploidia}

\paragraph{\textbf{Atividade 5 (A5):} Desenvolvimento e Treinamento do Modelo de Machine Learning para Otimização da Predição de Euploidia}

Nesta etapa, será realizado o desenvolvimento e o treinamento de modelos de aprendizado de máquina supervisionado com o objetivo de predizer a euploidia de embriões, utilizando dados previamente tratados e normalizados (conforme a Atividade 3). O foco principal é construir um classificador binário que seja capaz de distinguir entre embriões euploides e aneuploides, alcançando, no mínimo, 70\% de acurácia nos dados de teste. 

Utilizaremos Rede Neural do \textit{Scikit-learn}, importando as bibliotecas essenciais para manipulação de dados, avaliação de desempenho, visualização gráfica e para o método de explicação LIME. A base de dados com as variáveis preditoras e o alvo seria carregada a partir de um arquivo Excel, junto com o modelo MLP previamente treinado e o scaler utilizado para normalização dos dados. Para garantir a compatibilidade entre os dados atuais e o modelo, ajustaria as colunas do conjunto para que correspondessem exatamente às esperadas pelo scaler, adicionando colunas faltantes preenchidas com zero quando necessário, de forma a evitar erros na transformação.

Na etapa de avaliação, calcularia métricas fundamentais como acurácia, área sob a curva ROC, matriz de confusão e recalls para cada classe, a fim de entender a performance do modelo de forma abrangente. Para complementar essa análise quantitativa, criaria visualizações gráficas da matriz de confusão e da curva ROC, facilitando a interpretação dos resultados. Por fim, exportaria o conjunto de dados enriquecido com as predições e probabilidades para um novo arquivo, encerrando o processo com a garantia de que o modelo não apenas oferece resultados precisos, mas também explicações interpretáveis que podem ser utilizadas para suporte à decisão clínica.

Ao final, espera-se obter um modelo capaz de classificar embriões com pelo menos 70\% de precisão, fornecendo uma base confiável para apoio a decisões clínicas e pesquisas científicas.

Essa atividade corresponde ao Passo 5 do desenvolvimento de algoritmos de aprendizado de máquina, que envolve a seleção, desenvolvimento e treinamento do modelo para realizar as predições desejadas com base nos dados preparados nas etapas anteriores.

\subsubsection{\textbf{Objetivo Específico 3} - Avaliação do modelo}

\paragraph{\textbf{Atividade 6 (A6):} Utilizar métricas de avaliação mais adequadas para medir o desempenho do modelo de acordo com a natureza do problema de classificação}

O objetivo desta atividade é aplicar e avaliar métricas adequadas para medir o desempenho e a confiabilidade de um modelo de IA considerando as particularidades do problema abordado. Serão utilizadas as métricas Acurácia, \textit{ROC-AUC} e \textit{Recall} (Sensibilidade). A análise será realizada com base em um conjunto de dados previamente definido, utilizando \textit{Python} e bibliotecas como \textit{scikit-learn} e \textit{pandas} para implementação, análise e visualização dos resultados.

Cada métrica será detalhada a seguir:

\begin{itemize}
    \item \textbf{Acurácia}: Mede a proporção de previsões corretas em relação ao total de previsões realizadas. Essa métrica é útil em problemas com classes balanceadas e quando não há maior preocupação com erros específicos, como falsos positivos ou falsos negativos \cite{vilela2022}. Será calculada com a função \textit{accuracy\_score} do \textit{scikit-learn}.

    \item \textbf{\textit{ROC-AUC}}: Permite avaliar a capacidade geral do modelo de distinguir entre classes, mesmo quando estas estão desbalanceadas \cite{vilela2022}. Essa métrica complementa a análise das demais, oferecendo uma visão ampla do desempenho do classificador.

    \item \textbf{\textit{Recall}}: Mede a capacidade do modelo de identificar corretamente os exemplos pertencentes à classe positiva. É especialmente importante em situações onde falsos negativos têm maior impacto, como na detecção de aneuploidia de embriões \cite{vilela2022}. Será calculado com a função \textit{recall\_score}.
\end{itemize}

Espera-se que a análise dessas métricas proporcione uma avaliação abrangente do desempenho do modelo, destacando seus pontos fortes e limitações, e possibilitando ajustes para melhorar sua confiabilidade e alinhamento com os objetivos do problema. Além disso, a escolha criteriosa das métricas será essencial para orientar decisões estratégicas, especialmente em aplicações sensíveis a erros de classificação.

Essa atividade corresponde ao Passo 6 do desenvolvimento de algoritmos de aprendizado de máquina, que envolve a seleção, desenvolvimento e treinamento do modelo, que trata da avaliação do desempenho do modelo utilizando métricas apropriadas e técnicas de análise para compreender sua eficácia, pontos fortes e limitações antes da implementação final.

\paragraph{\textbf{Atividade 7 (A7):} Avaliar a precisão e eficácia do modelo em prever corretamente casos de euploidia e aneuploidia  por meio da Matriz de Confusão e Curva ROC}

O objetivo desta atividade é avaliar o desempenho do modelo de classificação desenvolvido para prever corretamente os casos de euploidia e aneuploidia, utilizando a Matriz de Confusão e a Curva ROC (Receiver Operating Characteristic). A Matriz de Confusão será construída após o treinamento e teste do modelo, permitindo a identificação das taxas de verdadeiros positivos (TP), falsos positivos (FP), verdadeiros negativos (TN) e falsos negativos (FN). Essa análise contribuirá para a compreensão do desempenho geral do modelo e identificação de possíveis pontos de melhoria. Adicionalmente, será gerada a Curva \textit{ROC}, que avalia a performance do modelo na separação entre as classes euploide (classe positiva) e aneuploide (classe negativa), com base em diferentes valores de limiar (\textit{threshold}) \cite{vilela2022}. A partir dela, será possível observar a sensibilidade e a especificidade do modelo em diversos pontos de corte. A métrica AUC (Área sob a Curva) será utilizada como indicador global da capacidade do modelo em distinguir entre as classes, sendo especialmente útil em cenários de classificação desbalanceada \cite{vilela2022}.

A avaliação será realizada em duas etapas principais: a construção da Matriz de Confusão e a geração da Curva ROC. A Matriz de Confusão é uma ferramenta essencial para compreender os tipos de acertos e erros do modelo. Segundo \citeonline{sathyanarayanan2024}, se trata de uma tabela de dimensão, onde N representa o número de classes. Para este estudo binário, a matriz permitirá verificar diretamente os valores de TP, TN, FP e FN, a partir dos quais serão calculadas métricas como acurácia e recall. Essas métricas são importantes para indicar não apenas o desempenho global, mas também a sensibilidade do modelo para cada classe.

A Curva ROC será gerada com base nas probabilidades de pertencimento à classe euploide, fornecidas pela função \texttt{predict\_proba} da biblioteca \texttt{scikit-learn}. Essa curva será traçada com o auxílio da função \texttt{roc\_curve}, que calcula os valores de taxa de falsos positivos (1 - especificidade) e de verdadeiros positivos (sensibilidade) para diferentes valores de limiar \cite{vilela2022}. O gráfico resultante, com a especificidade no eixo \(x\) e a sensibilidade no eixo \(y\), permitirá uma análise detalhada do comportamento do modelo à medida que o limiar de decisão varia. Essa análise é particularmente útil para identificar o ponto ótimo de corte, equilibrando os \textit{trade-offs} entre falsos positivos e falsos negativos.

Por fim, será calculada a AUC com a função \texttt{roc\_auc\_score} da biblioteca \texttt{scikit-learn}. A AUC varia de 0 a 1 e resume a capacidade do modelo de distinguir corretamente entre as classes. Valores mais próximos de 1 indicam excelente desempenho, enquanto valores próximos de 0{,}5 indicam que o modelo se comporta de maneira semelhante a um classificador aleatório \cite{vilela2022}. A partir dessas análises, espera-se obter uma base sólida para avaliar a eficácia do modelo e sua viabilidade de aplicação prática na predição de euploidia, com suporte tanto quantitativo quanto interpretativo.

Essa atividade corresponde ao Passo 6 do desenvolvimento de algoritmos de aprendizado de máquina, que envolve a seleção, desenvolvimento e treinamento do modelo, que trata da avaliação do desempenho do modelo utilizando métricas apropriadas e técnicas de análise para compreender sua eficácia, pontos fortes e limitações antes da implementação final.

\subsubsection{\textbf{Objetivo Específico 4} - Desenvolver uma Interface}

\paragraph{\textbf{Atividade 8 (A8):} Prototipar uma interface básica para exibir as predições de euploidia para o usuário final (médicos)}

O objetivo desta etapa é desenvolver um protótipo interativo da interface que será utilizada pelos médicos para visualizar as predições de euploidia de embriões com base nos dados morfocinéticos fornecidos. Este protótipo deve contemplar os princípios fundamentais de design de interfaces, experiência do usuário (UX) e acessibilidade, garantindo que a navegação seja intuitiva e que os resultados sejam apresentados de forma clara e eficiente.

Para isso, será utilizada a ferramenta online \textbf{Figma}, amplamente reconhecida por sua versatilidade no desenvolvimento colaborativo de protótipos interativos de alta fidelidade \cite{figma2024}. O Figma permitirá o trabalho simultâneo da equipe, com recursos para edição vetorial, prototipagem rápida e compartilhamento de fluxos interativos.

O protótipo incluirá os seguintes elementos principais:
\begin{itemize}
  \item \textbf{Campos para entrada de dados morfocinéticos:} Área destinada ao \textit{upload} de arquivos que conterão as informações necessárias para a predição;
  \item \textbf{Botões de interação:} Elementos visuais que possibilitarão o envio e processamento dos dados inseridos;
  \item \textbf{Área de exibição de resultados:} Seção responsável por apresentar, de forma clara e acessível, os resultados da predição de ploidia;
  \item \textbf{Layout responsivo:} Interface adaptável a diferentes dispositivos e tamanhos de tela, garantindo acessibilidade e boa usabilidade.
\end{itemize}

O protótipo será construído com base no \textbf{Design Centrado no Usuário} (DCU), uma abordagem que colocará as necessidades, capacidades e limitações dos usuários no centro do processo de design \cite{norman2013design}. Considerando o ambiente médico, onde decisões rápidas e seguras são fundamentais, será imprescindível garantir uma interface intuitiva, eficiente e de fácil interpretação.

Para isso, serão aplicadas como referência as \textbf{Heurísticas de Usabilidade de Nielsen} \cite{nielsen1994}, um conjunto amplamente reconhecido de diretrizes que auxiliará no desenvolvimento de sistemas mais acessíveis, eficazes e agradáveis. As heurísticas de Jakob Nielsen, publicadas em 1994, foram formuladas com base em décadas de estudos sobre interação humano-computador e têm sido, desde então, utilizadas como padrão para avaliação e desenvolvimento de sistemas interativos \cite{molich1990improving}.

Essas heurísticas representam princípios universais de usabilidade e visam assegurar que os usuários possam interagir com o sistema de forma segura, confortável e produtiva. Duas dessas heurísticas, em especial, serão incorporadas ao protótipo:
\begin{enumerate}
  \item \textbf{1. Visibilidade do status do sistema (Visibility of system status:)} É essencial que o sistema mantenha os usuários informados sobre o que está acontecendo, por meio de feedbacks adequados e em tempo razoável. No protótipo, isso será implementado através de mensagens claras de carregamento, feedback visual após o envio dos dados e indicações sobre o status da previsão. Dessa forma, os médicos terão maior segurança sobre o funcionamento do sistema.

  \item \textbf{2. Flexibilidade e eficiência de uso (Flexibility and efficiency of use:)} A interface deve ser eficiente tanto para usuários experientes em tecnologia quanto aqueles com menor familiaridade digital. Por isso, o protótipo será planejado para realizar o envio de dados de forma ágil, com suporte a preenchimentos automáticos ou reaproveitamento de planilhas padronizadas, reduzindo o tempo de interação e o esforço necessário para acessar as predições
\end{enumerate}

A importância da aplicação dessas diretrizes será ainda maior considerando o contexto de uso médico, onde uma interface mal projetada pode impactar diretamente na tomada de decisão clínica e, consequentemente, na segurança e no bem-estar dos pacientes. Conforme destacado por \citeonline{healthUsability}, a avaliação da usabilidade em sistemas de informação em saúde é fundamental não apenas para melhorar a experiência do usuário, mas também para reduzir erros humanos, aumentar a confiabilidade dos processos e garantir a segurança do paciente.

A Atividade 8 (A8) corresponderá ao Passo 7 do ciclo de desenvolvimento do algoritmo de aprendizado de máquina, quando a solução será disponibilizada por meio de uma interface amigável e acessível, conectando a inteligência artificial à prática clínica.

\paragraph{\textbf{Atividade 9 (A9):}  Desenvolver a aplicação web integrando o protótipo à inteligência artificial existente}

Após criação do protótipo interativo na Atividade 8, esta etapa coresponderá ao desenvolvimento da aplicação web, implementando de froma prática a interface projetada com tecnologias modernas e integrando-a ao modelo de inteligência artificial desenvolvido nas etapas anteriores. O objetivo será transformar a solução teórica em uma aplicação funcional e acessível, permitindo o uso por médicos especialistas em reprodução assistida. A implementação será realizada com:

\begin{itemize}
  \item \textbf{Next.js com App Router}: Framework React com arquitetura moderna para organização modularizada entre páginas, componentes e bibliotecas, facilitando a escalabilidade e manutenção do código.

  \item \textbf{TypeScript}: Linguagem de programação com tipagem estática para maior robustez, facilitando a detecção precoce de erros, especialmente relevante no contexto médico.

  \item \textbf{TailwindCSS}: Framework utilitário para estilização rápida, promovendo uma interface responsiva e consistente com o esquema de cores definido previamente no protótipo.

  \item \textbf{Leitura de arquivos XLSX}: Implementação de funcionalidade para upload e leitura de planilhas contendo dados morfocinéticos, que serão processados e enviados ao modelo de machine learning.

  \item \textbf{FastAPI}: Framework backend em Python escolhido para transformar o modelo de IA em uma API moderna e de alta performance, com documentação automática via Swagger, validação de dados e integração simplificada com o front-end.

  \item \textbf{Hospedagem da API na Render}: A FastAPI será implantada na plataforma Render, garantindo disponibilidade, escalabilidade e facilidade de manutenção.

  \item \textbf{Hospedagem da aplicação web na Vercel}: A aplicação Next.js será hospedada na Vercel, permitindo deploy contínuo, agilidade nas entregas e fácil acesso para testes e validações ao longo do desenvolvimento.
\end{itemize}

A interface será cuidadosamente construída para refletir o fluxo de uso planejado, garantindo uma transição fluida entre o protótipo e o ambiente real de utilização. Durante o desenvolvimento, será priorizado o \textbf{design centrado no usuário}, buscando promover clareza, legibilidade e acessibilidade, aspectos essenciais no contexto médico, onde qualquer ambiguidade pode comprometer a tomada de decisão.

Outro aspecto fundamental nesta etapa será a aplicação sistemática de práticas de \textbf{Clean Code}, conforme os princípios descritos por \citeonline{martin2009cleancode}. A adoção dessas boas práticas contribuirá para a legibilidade, manutenibilidade e robustez do código, assegurando a qualidade da solução mesmo em contextos sensíveis como o da saúde. Os seguintes princípios serão aplicados:

\begin{itemize}
  \item \textbf{Nomenclatura clara e intuitiva}: Os nomes de variáveis, funções e componentes serão descritivos e precisos, refletindo suas responsabilidades no sistema.
  
  \item \textbf{Consistência nos padrões}: Será mantida uniformidade nos padrões de nomenclatura, indentação e formatação, promovendo um código organizado e previsível.

  \item \textbf{Funções pequenas e focadas}: As funções serão escritas para desempenhar uma única tarefa, mantendo-se concisas e especializadas.

  \item \textbf{Comentários relevantes e sucintos}: Os comentários serão utilizados com moderação, apenas quando realmente necessários para esclarecer intenções que não estejam evidentes no código.

  \item \textbf{Evitar repetição de código (DRY)}: O projeto buscará reutilização inteligente de componentes e funções para evitar duplicação desnecessária.

  \item \textbf{Tratamento adequado de erros}: Serão implementadas estratégias robustas para lidar com falhas e fornecer mensagens de erro claras e informativas ao usuário.

  \item \textbf{Princípio KISS (Keep It Simple, Stupid)}: O código será mantido o mais simples e direto possível, evitando complexidades desnecessárias que possam dificultar a manutenção e o entendimento futuro.
\end{itemize}

Ao final desta etapa, espera-se concluir o desenvolvimento do protótipo da interface, representando a finalização prática do trabalho. Essa interface terá papel fundamental ao permitir que médicos utilizem o sistema de forma clara, acessível e eficiente, apoiando a análise de dados morfocinéticos e auxiliando na tomada de decisão em casos clínicos. Dessa forma, a proposta visa não apenas validar a aplicação da inteligência artificial no contexto médico, mas também promover uma ferramenta com potencial de impacto real na rotina de profissionais da saúde reprodutiva.

A Atividade 9 (A9) corresponde ao Passo 7 do desenvolvimento do algoritmo de aprendizado de máquina, que envolve o lançamento da solução.